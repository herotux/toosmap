{% extends 'mainadmin.html' %}

{% block style %}
    <style>
        .select2-container {
            width: 100%!important;
        }
    </style>
{% endblock %}

{% block content %}
          <div class="col-lg-10 col-md-8 col-xs-12 content-col pl-0">
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper" style="min-height: 1008px">
              <!-- Content Header (Page header) -->

              <!-- Main content -->
              <section class="content">
                <div class="row">
                  <div class="col-xs-12">
                    <div class="box">
                      <div class="box-header with-border">
                        <h3 class="box-title">افزودن دسته‌بندی</h3>

                        <div class="box-tools">
                          <div class="input-group input-group-sm">
                            <a
                              href="https://toosshop.com/admin/categories"
                              class="btn btn-default btn-sm"
                              >لیست دسته‌بندی‌ها
                              <span class="fa fa-arrow-left"></span>
                            </a>
                          </div>
                        </div>
                      </div>
                      <!-- /.box-header -->
                      <div class="box-body">
                        <div class="nav-tabs-custom no-shadow">
                          <ul class="nav nav-tabs">
                            <li class="active">
                              <a
                                href="#tab_general"
                                data-toggle="tab"
                                aria-expanded="true"
                                >عمومی</a
                              >
                            </li>
                            <li>
                              <a
                                href="#tab_seo"
                                data-toggle="tab"
                                aria-expanded="false"
                                >سئو</a
                              >
                            </li>
                            <li>
                              <a
                                href="#tab_information"
                                data-toggle="tab"
                                aria-expanded="false"
                                >اطلاعات</a
                              >
                            </li>
                            
                          </ul>
                          <form
                            id="form"
                            method="post"
                            action="https://toosshop.com/admin/categories"
                            role="form"
                            enctype="multipart/form-data"
                            class="form-horizontal"
                          >
                            <input
                              type="hidden"
                              name="_token"
                              value="ZopUcPw8uSNjwfbSKGl6U0dWCzFkLR97L9tlAHNk"
                            />
                            <div class="tab-content">
                              <div id="tab_general" class="tab-pane active">
                                <div class="form-group">
                                  <label
                                    for="name"
                                    class="col-md-1 control-label"
                                    >نام دسته‌بندی *</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="text"
                                      name="name"
                                      id="name"
                                      class="form-control"
                                      value=""
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="latinname"
                                    class="col-md-1 control-label"
                                    >نام لاتین</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="text"
                                      name="latinname"
                                      id="latinname"
                                      class="form-control"
                                      value=""
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="label"
                                    class="col-md-1 control-label"
                                    >لیبل</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="text"
                                      name="label"
                                      id="label"
                                      class="form-control"
                                      value=""
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="slug"
                                    class="col-md-1 control-label"
                                    >اسلاگ *</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="text"
                                      name="slug"
                                      id="slug"
                                      class="form-control"
                                      value=""
                                      dir="ltr"
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="content"
                                    class="col-md-1 control-label"
                                    >توضیحات</label
                                  >
                                  <div class="col-md-11">
                                    <textarea name="content" id="content" class="form-control tinymce"></textarea>
                                  </div>
                                </div>
                              </div>
                              <div id="tab_seo" class="tab-pane">
                                <div class="form-group">
                                  <label
                                    for="meta_keywords"
                                    class="col-md-1 control-label"
                                    >متا تگ کلمات کلیدی</label
                                  >
                                  <div class="col-md-11">
                                    <textarea
                                      name="meta_keywords"
                                      id="meta_keywords"
                                      class="form-control"
                                      rows="3"
                                      placeholder="کلمات کلیدی را با خط تیره (-) از هم جدا کنید"
                                    ></textarea>
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="meta_description"
                                    class="col-md-1 control-label"
                                    >متا تگ توضیحات</label
                                  >
                                  <div class="col-md-11">
                                    <textarea
                                      name="meta_description"
                                      id="meta_description"
                                      class="form-control"
                                      rows="5"
                                    ></textarea>
                                  </div>
                                </div>
                              </div>
                              <div id="tab_information" class="tab-pane">
                                <div class="form-group">
                                  <label for="parent_id" class="col-md-1 control-label">دسته‌بندی والد</label>
                                  <div class="col-md-11">
                                      <select name="parent_id" id="parent_id" class="form-control">
                                          <option value="">فاقد والد</option>
                                          <option value="1">test</option>
                                          <option value="2">test2</option>
                                          <option value="3">test3</option>
                                      </select>
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="sort_order"
                                    class="col-md-1 control-label"
                                    >ترتیب</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="number"
                                      name="sort_order"
                                      id="sort_order"
                                      class="form-control"
                                      value=""
                                      min="0"
                                      max="999"
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="icon"
                                    class="col-md-1 control-label"
                                    >آیکن</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="file"
                                      name="icon"
                                      id="icon"
                                      value=""
                                      class="form-control"
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="image"
                                    class="col-md-1 control-label"
                                    >تصویر</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="file"
                                      name="image"
                                      id="image"
                                      value=""
                                      class="form-control"
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="banner"
                                    class="col-md-1 control-label"
                                    >بنر</label
                                  >
                                  <div class="col-md-11">
                                    <input
                                      type="file"
                                      name="banner"
                                      id="banner"
                                      value=""
                                      class="form-control"
                                    />
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label for="has_slider" class="col-md-1 control-label">دارای اسلایدر</label>
                                  <div class="col-md-11">
                                      <input type="checkbox" name="has_slider" id="has_slider" value="1" data-toggle="toggle" data-onstyle="success" data-on="<i class='fa fa-check'></i> فعال" data-off="<i class='fa fa-close text-red'></i> غیرفعال" data-width="100">
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label
                                    for="status"
                                    class="col-md-1 control-label"
                                    >وضعیت</label
                                  >
                                  <div class="col-md-11">
                                    <select
                                      name="status"
                                      id="status"
                                      class="form-control"
                                    >
                                      <option value="0">پیش‌نویس</option>
                                      <option value="1">انتشار</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <input
                              type="submit"
                              class="btn btn-primary"
                              value="افزودن دسته‌بندی"
                            />
                          </form>
                        </div>
                      </div>
                      <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                  </div>
                </div>
                <!-- /.row -->
              </section>
              <!-- /.content -->
            </div>
            <!-- /.content-wrapper 
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <span>© کلیه حقوق این وب سایت متعلق به شرکت پارس آویژه ونداد می‌باشد </span>
        </div>
     
    </footer>-->
          </div>
{% endblock content %}

{% block scripts %}
    <script>
      var editor_config = {
        path_absolute: "/",
        selector: "textarea.tinymce",
        plugins: [
          "advlist autolink lists link image charmap print preview hr anchor pagebreak",
          "searchreplace wordcount visualblocks visualchars code fullscreen",
          "insertdatetime media nonbreaking save table contextmenu directionality",
          "emoticons template paste textcolor colorpicker textpattern",
        ],
        directionality: "rtl",
        toolbar:
          "insertfile undo redo | rtl ltr | styleselect | fontsizeselect | forecolor backcolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media",
        fontsize_formats: "11px 12px 14px 16px 18px 24px 36px 48px",
        relative_urls: false,
        file_browser_callback: function (field_name, url, type, win) {
          var x =
            window.innerWidth ||
            document.documentElement.clientWidth ||
            document.getElementsByTagName("body")[0].clientWidth;
          var y =
            window.innerHeight ||
            document.documentElement.clientHeight ||
            document.getElementsByTagName("body")[0].clientHeight;

          var cmsURL =
            editor_config.path_absolute +
            "laravel-filemanager?field_name=" +
            field_name;
          if (type == "image") {
            cmsURL = cmsURL + "&type=Images";
          } else {
            cmsURL = cmsURL + "&type=Files";
          }

          tinyMCE.activeEditor.windowManager.open({
            file: cmsURL,
            title: "Filemanager",
            width: x * 0.8,
            height: y * 0.8,
            resizable: "yes",
            close_previous: "no",
          });
        },
        language: "fa_IR",
      };

      tinymce.init(editor_config);
    </script>
    <script>
      $(document).ready(function () {
        $(".pagination").addClass("pagination-sm no-margin pull-right");
        $(".close-callout").click(function () {
          $(this).parentsUntil(".pad").remove();
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        $(".close-callout").click(function () {
          $(this).parentsUntil(".pad").remove();
        });
      });
    </script>
    <script>
      $(".sidebar-toggle").click(function () {
        $(".side-col").toggleClass("col-lg-1 col-md-1");
        $(".content-col").toggleClass("col-lg-11 col-md-11");
      });
    </script>
    
    <script>
      $(document).ready(function () {
        $(".demo").click(function () {
          $(this).find("i").toggleClass("fa-plus-circle fa-minus-circle");
          var id = $(this).find(".category_child").attr("data-type");
          $(".category" + id).toggleClass("hide");
        });
      });
    </script>
    <script>
      $(document).ready(function(){
          $('#parent_id').select2({
              placeholder : 'دسته‌بندی والد را انتخاب کنید',
          });
      });
      $(document).ready(function () {
          var $form           = $("#form");
          var $name           = $form.find("#name");
          var $slug           = $form.find("#slug");
          $name.on("keyup", function(event) {
              function replaceSpacesWithDash(str) {
                  return str.replace(/ /g, '-');
              }
              $slug.val(replaceSpacesWithDash($name.val()));
          });
      });
    </script>
{% endblock %}